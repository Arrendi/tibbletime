<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • tibbletime</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Changelog" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-1');
</script>

  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tibbletime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/TT-01-time-based-filtering.html">Time-based filtering</a>
    </li>
    <li>
      <a href="../articles/TT-02-changing-time-periods.html">Changing periodicity</a>
    </li>
    <li>
      <a href="../articles/TT-03-rollify-for-rolling-analysis.html">Rolling calculations in tibbletime</a>
    </li>
    <li>
      <a href="../articles/TT-04-use-with-dplyr.html">Using tibbletime with dplyr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/tibbletime">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/business-science/tibbletime/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="tibbletime-0-1-1-9000" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbletime-0-1-1-9000" class="anchor"></a>tibbletime 0.1.1.9000</h2>
<ul>
<li>
<p>Features</p>
<ul>
<li>Export a constructor for <code>tbl_time</code> object through <code><a href="../reference/new_tbl_time.html">new_tbl_time()</a></code>. Only to be used by package developers extending <code>tibbletime</code>.</li>
</ul>
</li>
<li>
<p>Bug fixes</p>
<ul>
<li><p>For <code>tibble</code> 2.0.1, an internal bug fix was made to pass along an <code>nrow</code> argument.</p></li>
<li><p>For <code>dplyr</code> 0.8.0, an internal fix was made in one of the tests.</p></li>
<li><p>The tbl_time time zone for <code>POSIXct</code> indices is now set as the first non NA value of: “tzone” attribute -&gt; <code><a href="https://www.rdocumentation.org/packages/base/topics/timezones">Sys.timezone()</a></code> -&gt; “UTC”. Previously there was no <code><a href="https://www.rdocumentation.org/packages/base/topics/timezones">Sys.timezone()</a></code> step as there were problems with local time zones such as <code><a href="https://www.rdocumentation.org/packages/base/topics/Arithmetic">America/New_York</a></code> interacting with collapsing by day. Those problems have been fixed by using <code>DSTday</code> with all <code>POSIXct</code> indices even if <code>day</code> is specified.</p></li>
</ul>
</li>
</ul>
</div>
    <div id="tibbletime-0-1-1" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbletime-0-1-1" class="anchor"></a>tibbletime 0.1.1</h2>
<ul>
<li>
<p>General</p>
<ul>
<li><p><code><a href="../reference/collapse_index.html">collapse_index()</a></code> and <code><a href="../reference/collapse_by.html">collapse_by()</a></code> support a <code>clean</code> argument. This will round your index up/down to the next period boundary, allowing for prettier dates that can be used in summaries.</p></li>
<li><p>A new helper function, <code><a href="../reference/collapse_by.html">collapse_by()</a></code>, wraps the common idiom of <code>.tbl_time %&gt;% mutate(date = collapse_index(date, "yearly"))</code> and is the easiest way to use <code>tibbletime</code> with the rest of the tidyverse.</p></li>
<li><p>You can now pass an index vector (easily created with <code><a href="../reference/create_series.html">create_series()</a></code>) to the <code>period</code> argument of functions like <code><a href="../reference/as_period.html">as_period()</a></code> or <code><a href="../reference/collapse_by.html">collapse_by()</a></code> to specify custom periods to collapse at.</p></li>
<li><p>Added support for <code>millisecond</code> and <code>microsecond</code> grouping. See <code><a href="../reference/create_series.html">?create_series</a></code> for examples and <code><a href="../reference/filter_time.html">?filter_time</a></code> Details for more information.</p></li>
<li><p><code><a href="../reference/partition_index.html">partition_index()</a></code> (and therefore higher level functions like <code><a href="../reference/collapse_by.html">collapse_by()</a></code>) now round using the entire <code>period</code> argument to figure out the default start date. Meaning if <code>2 years</code> is passed, it will round down the start of the series to the lower <code>2 year</code> boundary, rather than just <code>year</code>. This is a small change, but is technically breaking.</p></li>
<li><p>More efficient parsing of periods. Only noticably faster with a large number of groups.</p></li>
</ul>
</li>
<li>
<p>Bug Fixes</p>
<ul>
<li>
<code><a href="https://tidyr.tidyverse.org/reference/gather.html">tidyr::gather()</a></code> and <code><a href="https://tidyr.tidyverse.org/reference/spread.html">tidyr::spread()</a></code> now work appropriately.</li>
</ul>
</li>
</ul>
</div>
    <div id="tibbletime-0-1-0" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbletime-0-1-0" class="anchor"></a>tibbletime 0.1.0</h2>
<p>This is a major update. It introduces a huge number of breaking changes as we heavily reworked the internals of the package. This should ensure the longevity of the package and provide maximum flexibility for its use with <code>dplyr</code>. As this was still early in package development with minimal usage, and because we had issued a Warning in the README of the last update that we may change things, we have not made any attempt to support backwards compatability. From this point forward, however, we will support backwards compatability as we feel that we have reached a more stable implementation.</p>
<p>With that out of the way, here is a complete list of changes.</p>
<ul>
<li>
<p>General</p>
<ul>
<li><p>The <code>period</code> argument no longer supports the ‘period formula’ (e.g. <code><a href="https://www.rdocumentation.org/packages/base/topics/tilde">1~year</a></code>). It added unnecessary complication with little benefit. Rather, a character should be used like <code>'1 year'</code>. See the documentation of <code><a href="../reference/partition_index.html">partition_index()</a></code> for full details.</p></li>
<li><p><code>time_formula</code> arguments still support the <code><a href="https://www.rdocumentation.org/packages/base/topics/tilde">from ~ to</a></code> style syntax, but the left and right hand sides must now be characters, rather than bare date specifications. In English, rather than <code><a href="https://www.rdocumentation.org/packages/base/topics/tilde">2013 ~ 2014</a></code>, you must use <code><a href="https://www.rdocumentation.org/packages/base/topics/tilde">'2013' ~ '2014'</a></code>. This is easier to program with and also allows you to pass in variables to the time formula, which previously did not work well.</p></li>
<li><p><code>time_filter()</code> has become <code><a href="../reference/filter_time.html">filter_time()</a></code>. This naming is easier to remember now that a suite of <code>time_*()</code> functions is not being developed and is easier to find with autocompletion.</p></li>
<li><p><code>time_group()</code> and <code>time_collapse()</code> have become <code><a href="../reference/partition_index.html">partition_index()</a></code> and <code><a href="../reference/collapse_index.html">collapse_index()</a></code>. Both functions accept <code>index</code> vectors and are commonly used inside <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>.</p></li>
<li><p><code><a href="../reference/partition_index.html">partition_index()</a></code> splits an index by period and returns an integer vector corresponding to the groups.</p></li>
<li><p><code><a href="../reference/collapse_index.html">collapse_index()</a></code> collapses an index by period so that all observations falling in that interval share the same date. This is most useful when used to then group on the index column.</p></li>
<li><p>There is full support for <code>Date</code> and <code>POSIXct</code> classes as the index, and there is experimental support for <code>yearmon</code>, <code>yearqtr</code>, and <code>hms</code> classes.</p></li>
<li><p><code><a href="../reference/ceiling_index.html">ceiling_index()</a></code> and <code><a href="../reference/floor_index.html">floor_index()</a></code> are thin wrappers around <code>lubridate</code> functions of similar names, but they also work for <code>yearmon</code>, <code>yearqtr</code> and <code>hms</code>.</p></li>
<li><p><code><a href="../reference/create_series.html">create_series()</a></code> now has an explicit <code>class</code> argument.</p></li>
<li><p><code><a href="../reference/as_period.html">as_period()</a></code> gains an <code>include_endpoints</code> argument for including the last data point if <code><a href="https://www.rdocumentation.org/packages/base/topics/assignOps">side = "start"</a></code> is specified or the first data point if <code><a href="https://www.rdocumentation.org/packages/base/topics/assignOps">side = "end"</a></code> is used.</p></li>
<li><p>There are a number of new “getter” functions for accessing the index and time zone of <code>tbl_time</code> objects. These are useful for package development.</p></li>
<li><p><code><a href="../reference/filter_time.html">filter_time()</a></code>, <code><a href="../reference/as_period.html">as_period()</a></code> and other “getter” functions now use <code>.tbl_time</code> as a consistent first argument rather than <code>x</code>. <code><a href="../reference/collapse_index.html">collapse_index()</a></code> and <code><a href="../reference/partition_index.html">partition_index()</a></code> use <code>index</code> as their first arguments.</p></li>
<li><p>Exported <code><a href="../reference/parse_period.html">parse_period()</a></code> for general use in other related packages.</p></li>
<li><p>Warnings are now generated if the user is not using a sorted index.</p></li>
</ul>
</li>
<li>
<p>Bug Fixes</p>
<ul>
<li><p>All <code>dplyr</code> functions should now retain the <code>tbl_time</code> class and relevant attributes.</p></li>
<li><p>Ensure that <code><a href="https://tidyr.tidyverse.org/reference/spread.html">tidyr::spread()</a></code> passes the <code>fill</code> argument through.</p></li>
<li><p>Default time zone is now <code>UTC</code> rather than <code><a href="https://www.rdocumentation.org/packages/base/topics/timezones">Sys.timezone()</a></code> to handle a daylight savings issue.</p></li>
</ul>
</li>
</ul>
</div>
    <div id="tibbletime-0-0-2" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbletime-0-0-2" class="anchor"></a>tibbletime 0.0.2</h2>
<ul>
<li>
<p>New functionality</p>
<ul>
<li><p><code>time_floor()</code> and <code>time_ceiling()</code> are convenient wrappers to <code>lubridate</code> functions for altering dates to period boundaries.</p></li>
<li><p><code>time_unnest()</code> is used to specifically unnest a <code>tibble</code> object with a list-column of <code>tbl_time</code> objects.</p></li>
<li><p><code><a href="../reference/create_series.html">create_series()</a></code> allows the user to create a <code>tbl_time</code> object with a regularly spaced sequence of dates.</p></li>
<li><p><code>time_group()</code> has become the workhorse function for creating time based groups used in changing periodicity and other grouped time based calculations.</p></li>
<li><p><code>time_summarise()</code> and <code>tmap()</code> now also accept a formula-based <code>period</code>.</p></li>
<li><p><code><a href="../reference/as_period.html">as_period()</a></code> now accepts a formula-based <code>period</code> that provides an incredible amount of flexibility in creating groups. (<a href='https://github.com/business-science/tibbletime/issues/9'>#9</a>, <a href='https://github.com/business-science/tibbletime/issues/14'>#14</a>, <a href='https://github.com/business-science/tibbletime/issues/15'>#15</a>)</p></li>
<li><p><code><a href="../reference/rollify.html">rollify()</a></code> creates a rolling version of any function for use in <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>. (<a href='https://github.com/business-science/tibbletime/issues/7'>#7</a>)</p></li>
</ul>
</li>
<li>
<p>General</p>
<ul>
<li><p>You now have to explicitely load <code>dplyr</code> or <code>tidyr</code> to use any functions from those packages. Previously they were reexported, but this seems unnecessary.</p></li>
<li><p>Added vignettes on intro, filtering, and <code><a href="../reference/as_period.html">as_period()</a></code>.</p></li>
<li><p>Added more extensive <code>dplyr</code> support.</p></li>
<li><p>Speed increases for <code><a href="../reference/as_period.html">as_period()</a></code> and <code><a href="../reference/create_series.html">create_series()</a></code>.</p></li>
<li><p>Internal global utilities moved to <code>utils.R</code>.</p></li>
<li><p>Added test coverage. (<a href='https://github.com/business-science/tibbletime/issues/2'>#2</a>)</p></li>
<li><p>Added package documentation page. (<a href='https://github.com/business-science/tibbletime/issues/3'>#3</a>)</p></li>
<li><p>Added versions to all imported packages.</p></li>
</ul>
</li>
<li>
<p>Bug Fixes</p>
<ul>
<li><p>Fixed an issue with <code>[</code> in combination with <code><a href="https://tibble.tidyverse.org/reference/add_column.html">tibble::add_column()</a></code>. Use <code>tibble (&gt;= 1.3.4.9001)</code> for correct behavior.</p></li>
<li><p>Fixed a bug where using <code><a href="https://tidyr.tidyverse.org/reference/nest.html">tidyr::nest()</a></code> would cause the nested tibbles to lose their time attributes.</p></li>
<li><p>Fix a bug where filter_time(data, ~yyyy-mm-dd) would be parsed as <code>yyyy-mm-dd 00:00:00 ~ yyyy-mm-dd 00:00:00</code> instead of <code>yyyy-mm-dd 00:00:00 ~ yyyy-mm-dd 23:59:59</code>.</p></li>
<li><p>Fix a bug with as.Date / as.POSIXct operator collision in <code><a href="../reference/filter_time.html">filter_time()</a></code>.</p></li>
</ul>
</li>
</ul>
</div>
    <div id="tibbletime-0-0-1" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbletime-0-0-1" class="anchor"></a>tibbletime 0.0.1</h2>
<ul>
<li>Initial release of <code>tibbletime</code>, a package for time aware tibbles.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#tibbletime-0-1-1-9000">0.1.1.9000</a></li>
        <li><a href="#tibbletime-0-1-1">0.1.1</a></li>
        <li><a href="#tibbletime-0-1-0">0.1.0</a></li>
        <li><a href="#tibbletime-0-0-2">0.0.2</a></li>
        <li><a href="#tibbletime-0-0-1">0.0.1</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan, Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

